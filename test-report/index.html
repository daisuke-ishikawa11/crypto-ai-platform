<html><head><meta charset="utf-8"/><title>Crypto AI Platform Test Report</title><style type="text/css">:root {
  --text-primary: #111;
  --text-secondary: #4f4f4f;
  --success: #006633;
  --success-bright: #80ffbf;
  --danger: #cc071e;
  --danger-bright: #fbdfe0;
  --warning: #995c00;
  --warning-bright: #ffeea8;
  --panel: #eee;
  --border: #949494;
  --disabled: #6b6b6b;
}

html,
body {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 16px;
  margin: 0;
  padding: 0;
  color: var(--text-primary);
}
body {
  padding: 2rem 1rem;
}
.jesthtml-content {
  margin: 0 auto;
  max-width: 70rem;
}
header {
  display: flex;
  align-items: center;
}
#title {
  margin: 0;
  flex-grow: 1;
}
#logo {
  height: 4rem;
}
#timestamp {
  color: var(--text-secondary);
  margin-top: 0.5rem;
}

#metadata-container {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  margin-bottom: 2rem;
}

.additional-information-container {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  color: var(--text-secondary);
}

/** SUMMARY */
#summary {
  color: var(--text-primary);
  display: flex;
  font-family: monospace;
  font-size: 1rem;
}
#summary > div {
  margin-right: 0.5rem;
  background: var(--panel);
  padding: 1rem;
  min-width: 15rem;
}
#summary > div:last-child {
  margin-right: 0;
}
@media only screen and (max-width: 720px) {
  #summary {
    flex-direction: column;
  }
  #summary > div {
    margin-right: 0;
    margin-top: 1rem;
  }
  #summary > div:first-child {
    margin-top: 0;
  }
}

.summary-total {
  font-weight: bold;
  margin-bottom: 0.5rem;
}
.summary-passed {
  color: var(--success);
  border-left: 0.4rem solid var(--success);
  padding-left: 0.5rem;
  margin-bottom: 0.15rem;
}
.summary-failed,
.summary-obsolete-snapshots {
  color: var(--danger);
  border-left: 0.4rem solid var(--danger);
  padding-left: 0.5rem;
  margin-bottom: 0.15rem;
}
.summary-pending {
  color: var(--warning);
  border-left: 0.4rem solid var(--warning);
  padding-left: 0.5rem;
  margin-bottom: 0.15rem;
}
.summary-empty {
  color: var(--disabled);
  border-left: 0.4rem solid var(--disabled);
  margin-bottom: 0.15rem;
}

.test-result {
  padding: 1rem;
  margin-bottom: 0.25rem;
}
.test-result:last-child {
  border: 0;
}
.test-result.passed {
  background-color: var(--success-bright);
  color: var(--success);
}
.test-result.failed {
  background-color: var(--danger-bright);
  color: var(--danger);
}
.test-result.pending {
  background-color: var(--warning-bright);
  color: var(--warning);
}

.test-info {
  display: flex;
  justify-content: space-between;
}
.test-suitename {
  width: 20%;
  text-align: left;
  font-weight: bold;
  word-break: break-word;
}
.test-title {
  width: 40%;
  text-align: left;
  font-style: italic;
}
.test-status {
  width: 20%;
  text-align: right;
}
.test-duration {
  width: 10%;
  text-align: right;
  font-size: 0.85rem;
}

.failureMessages {
  padding: 0 1rem;
  margin-top: 1rem;
  border-top: 1px dashed var(--danger);
}
.failureMessages.suiteFailure {
  border-top: none;
}
.failureMsg {
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}

.suite-container {
  margin-bottom: 1rem;
}
.suite-info {
  padding: 1rem;
  background-color: var(--panel);
  color: var(--text-secondary);
  border: 0.15rem solid;
  border-color: var(--panel);
  display: flex;
  align-items: center;
  margin-bottom: 0.25rem;
}
.suite-info:hover {
  border-color: var(--border);
  cursor: pointer;
}
.suite-info .suite-path {
  word-break: break-all;
  flex-grow: 1;
  font-family: monospace;
  font-size: 1rem;
}
.suite-info .suite-time {
  margin-left: 1rem;
  padding: 0.2rem 0.3rem;
  font-size: 0.85rem;
}
.suite-info .suite-time.warn {
  background-color: var(--danger);
  color: #fff;
}
.suite-info:before {
  content: "\2303";
  display: inline-block;
  margin-right: 1rem;
  transform: rotate(180deg) translateY(0.15rem);
}
.suite-container[open] .suite-info:before {
  transform: rotate(0deg) translateY(0.15rem);
}

/* CONSOLE LOGS */
.suite-consolelog {
  margin-bottom: 0.25rem;
  padding: 1rem;
  background-color: var(--panel);
}
.suite-consolelog-header {
  font-weight: bold;
}
.suite-consolelog-item {
  padding: 0.5rem;
}
.suite-consolelog-item pre {
  margin: 0.5rem 0;
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}
.suite-consolelog-item-origin {
  color: var(--text-secondary);
  font-weight: bold;
}
.suite-consolelog-item-message {
  color: var(--text-primary);
  font-size: 1rem;
  padding: 0 0.5rem;
}

/* OBSOLETE SNAPSHOTS */
.suite-obsolete-snapshots {
  margin-bottom: 0.25rem;
  padding: 1rem;
  background-color: var(--danger-bright);
  color: var(--danger);
}
.suite-obsolete-snapshots-header {
  font-weight: bold;
}
.suite-obsolete-snapshots-item {
  padding: 0.5rem;
}
.suite-obsolete-snapshots-item pre {
  margin: 0.5rem 0;
  white-space: pre-wrap;
  white-space: -moz-pre-wrap;
  white-space: -pre-wrap;
  white-space: -o-pre-wrap;
  word-wrap: break-word;
}
.suite-obsolete-snapshots-item-message {
  color: var(--text-primary);
  font-size: 1rem;
  padding: 0 0.5rem;
}
</style></head><body><main class="jesthtml-content"><header><h1 id="title">Crypto AI Platform Test Report</h1></header><section id="metadata-container"><div id="timestamp">Started: 2025-08-17 12:14:34</div><div id="summary"><div id="suite-summary"><div class="summary-total">Suites (28)</div><div class="summary-passed ">27 passed</div><div class="summary-failed  summary-empty">0 failed</div><div class="summary-pending ">1 pending</div></div><div id="test-summary"><div class="summary-total">Tests (180)</div><div class="summary-passed ">179 passed</div><div class="summary-failed  summary-empty">0 failed</div><div class="summary-pending ">1 pending</div></div></div></section><details id="suite-1" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/notifications-analytics-discord.test.ts</div><div class="suite-time">4.964s</div></summary><div class="suite-tests"><div class="test-result pending"><div class="test-info"><div class="test-suitename">notifications analytics discord alerts</div><div class="test-title">sends discord alert when threshold breached</div><div class="test-status">pending</div><div class="test-duration"> </div></div></div></div></details><details id="suite-2" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/webhooks-metrics.test.ts</div><div class="suite-time warn">7.565s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Webhooks metrics integration</div><div class="test-title">counts invalid signature and total requests</div><div class="test-status">passed</div><div class="test-duration">5.445s</div></div></div></div></details><details id="suite-3" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/learning.test.ts</div><div class="suite-time">3.685s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Integration Tests &gt; GET /api/learning/lessons</div><div class="test-title">カテゴリ別レッスン一覧を正常に取得</div><div class="test-status">passed</div><div class="test-duration">1.162s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Integration Tests &gt; GET /api/learning/lessons</div><div class="test-title">AI推奨学習パスを含むレッスン取得 - スキップ (機能未実装)</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Integration Tests &gt; GET /api/learning/lessons/[slug]</div><div class="test-title">個別レッスンの詳細を正常に取得</div><div class="test-status">passed</div><div class="test-duration">0.341s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Integration Tests &gt; GET /api/learning/lessons/[slug]</div><div class="test-title">AI説明付きレッスン取得 - スキップ (機能未実装)</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Integration Tests &gt; POST /api/learning/lessons/[slug]/progress</div><div class="test-title">レッスン進捗を正常に更新 - スキップ (ルート未実装)</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Integration Tests &gt; POST /api/learning/lessons/[slug]/progress</div><div class="test-title">レッスン完了時の実績解除 - スキップ (ルート未実装)</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Integration Tests &gt; POST /api/learning/lessons/[slug]/quiz</div><div class="test-title">クイズ回答を正常に処理 - スキップ (ルート未実装)</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Integration Tests &gt; Learning System Performance</div><div class="test-title">85レッスンの一括読み込みパフォーマンス</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Integration Tests &gt; Learning System Performance</div><div class="test-title">同時学習セッションの処理 - スキップ (ルート未実装)</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></details><details id="suite-4" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/alerts.test.ts</div><div class="suite-time warn">17.634s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; POST /api/alerts</div><div class="test-title">価格アラートを正常に作成</div><div class="test-status">passed</div><div class="test-duration">4.529s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; POST /api/alerts</div><div class="test-title">複数条件のアラートを作成</div><div class="test-status">passed</div><div class="test-duration">0.004s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; POST /api/alerts</div><div class="test-title">無効なアラートパラメータの検証</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; GET /api/alerts</div><div class="test-title">ユーザーのアクティブアラート一覧を取得</div><div class="test-status">passed</div><div class="test-duration">0.004s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; GET /api/alerts</div><div class="test-title">ページネーション付きアラート取得</div><div class="test-status">passed</div><div class="test-duration">0.004s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; PUT /api/alerts/[id]</div><div class="test-title">アラート設定を正常に更新</div><div class="test-status">passed</div><div class="test-duration">0.068s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; PUT /api/alerts/[id]</div><div class="test-title">他ユーザーのアラート更新を拒否</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; DELETE /api/alerts/[id]</div><div class="test-title">アラートを正常に削除</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; Alert Processing Integration</div><div class="test-title">アラートトリガー時の通知送信フロー</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Alerts API Integration Tests &gt; Alert Processing Integration</div><div class="test-title">レート制限を考慮したアラート処理</div><div class="test-status">passed</div><div class="test-duration">0.103s</div></div></div></div></details><details id="suite-5" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/notification-dispatcher.prefs.test.ts</div><div class="suite-time warn">8.537s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">NotificationDispatcher respects user prefs</div><div class="test-title">returns zero deliveries when DND is enabled</div><div class="test-status">passed</div><div class="test-duration">0.124s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">NotificationDispatcher respects user prefs</div><div class="test-title">suppresses deliveries during Quiet Hours for non-high priority</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">NotificationDispatcher respects user prefs</div><div class="test-title">respects Quiet Hours window boundary at exact start</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">NotificationDispatcher respects user prefs</div><div class="test-title">respects Quiet Hours window boundary at exact end (non-bypass)</div><div class="test-status">passed</div><div class="test-duration">1.232s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">NotificationDispatcher respects user prefs</div><div class="test-title">bypasses Quiet Hours for high priority</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">NotificationDispatcher respects user prefs</div><div class="test-title">overrides discord webhook with personal setting</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></details><details id="suite-6" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api-logic.test.ts</div><div class="suite-time warn">19.284s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Learning API Logic</div><div class="test-title">should have lessons data available for API</div><div class="test-status">passed</div><div class="test-duration">1.511s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Learning API Logic</div><div class="test-title">should have category data available for API</div><div class="test-status">passed</div><div class="test-duration">0.012s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Learning API Logic</div><div class="test-title">should support lesson filtering by category</div><div class="test-status">passed</div><div class="test-duration">0.015s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Learning API Logic</div><div class="test-title">should support lesson search by slug</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Learning API Logic</div><div class="test-title">should validate lesson content structure for API response</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Alert System Logic</div><div class="test-title">should support alert creation logic</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Alert System Logic</div><div class="test-title">should validate alert condition types</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Market Data Logic</div><div class="test-title">should support market data structure</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Performance and Health Logic</div><div class="test-title">should track performance metrics structure</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Performance and Health Logic</div><div class="test-title">should validate health check components</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Error Handling Logic</div><div class="test-title">should handle validation errors properly</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Error Handling Logic</div><div class="test-title">should handle rate limiting logic</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Security Logic</div><div class="test-title">should validate user authorization logic</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Security Logic</div><div class="test-title">should validate input sanitization logic</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Data Consistency Checks</div><div class="test-title">should verify lesson-category relationships</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Data Consistency Checks</div><div class="test-title">should check for duplicate lesson IDs</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Logic Integration Tests &gt; Data Consistency Checks</div><div class="test-title">should verify lesson content completeness</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div></div></details><details id="suite-7" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/metrics.test.ts</div><div class="suite-time">1.502s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">monitoring/metrics</div><div class="test-title">increments counters and renders Prometheus output</div><div class="test-status">passed</div><div class="test-duration">0.007s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">monitoring/metrics</div><div class="test-title">observes histogram buckets and exposes sum/count</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">monitoring/metrics</div><div class="test-title">startTimer observes elapsed seconds to histogram</div><div class="test-status">passed</div><div class="test-duration">0.005s</div></div></div></div></details><details id="suite-8" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/stripe-webhooks.test.ts</div><div class="suite-time">2.466s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Stripe Webhooks Integration Tests &gt; POST /api/stripe/webhook &gt; Subscription Events</div><div class="test-title">customer.subscription.created - 新規サブスクリプション作成</div><div class="test-status">passed</div><div class="test-duration">0.7s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Stripe Webhooks Integration Tests &gt; POST /api/stripe/webhook &gt; Subscription Events</div><div class="test-title">customer.subscription.updated - サブスクリプション更新（アップグレード）</div><div class="test-status">passed</div><div class="test-duration">0.005s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Stripe Webhooks Integration Tests &gt; POST /api/stripe/webhook &gt; Subscription Events</div><div class="test-title">customer.subscription.deleted - サブスクリプションキャンセル</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Stripe Webhooks Integration Tests &gt; POST /api/stripe/webhook &gt; Payment Events</div><div class="test-title">payment_intent.succeeded - 支払い成功</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Stripe Webhooks Integration Tests &gt; POST /api/stripe/webhook &gt; Payment Events</div><div class="test-title">payment_intent.payment_failed - 支払い失敗</div><div class="test-status">passed</div><div class="test-duration">0.007s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Stripe Webhooks Integration Tests &gt; POST /api/stripe/webhook &gt; Invoice Events</div><div class="test-title">invoice.payment_succeeded - 請求書支払い成功</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Stripe Webhooks Integration Tests &gt; POST /api/stripe/webhook &gt; Error Handling</div><div class="test-title">無効な署名の場合400エラーを返す</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Stripe Webhooks Integration Tests &gt; POST /api/stripe/webhook &gt; Error Handling</div><div class="test-title">処理中のエラーをハンドリング</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Stripe Webhooks Integration Tests &gt; POST /api/stripe/webhook &gt; Webhook Idempotency</div><div class="test-title">同じイベントIDの重複処理を防ぐ</div><div class="test-status">passed</div><div class="test-duration">0.014s</div></div></div></div></details><details id="suite-9" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/notifications-export.test.ts</div><div class="suite-time warn">19.648s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Notifications Analytics Export API</div><div class="test-title">exports CSV with selected columns</div><div class="test-status">passed</div><div class="test-duration">3.082s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Notifications Analytics Export API</div><div class="test-title">falls back to CSV when gzip requested but CompressionStream unavailable</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div></div></details><details id="suite-10" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/csrf.integration.test.ts</div><div class="suite-time">2.481s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">CSRF protection (Alerts API)</div><div class="test-title">POST without CSRF headers returns 403</div><div class="test-status">passed</div><div class="test-duration">0.7s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">CSRF protection (Alerts API)</div><div class="test-title">POST with valid CSRF header+cookie succeeds (not 403)</div><div class="test-status">passed</div><div class="test-duration">0.038s</div></div></div></div></details><details id="suite-11" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/alerts-test-endpoint.test.ts</div><div class="suite-time">1.716s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">alerts test endpoint</div><div class="test-title">POST /api/alerts/test sends discord in test env without auth</div><div class="test-status">passed</div><div class="test-duration">0.729s</div></div></div></div></details><details id="suite-12" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/learning-system.test.ts</div><div class="suite-time warn">13.3s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Lesson Content Validation</div><div class="test-title">should have lessons available (working toward 266 total)</div><div class="test-status">passed</div><div class="test-duration">1.772s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Lesson Content Validation</div><div class="test-title">should have 8 defined categories</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Lesson Content Validation</div><div class="test-title">should have lessons distributed across implemented categories</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Lesson Content Validation</div><div class="test-title">should have valid lesson structure for all lessons</div><div class="test-status">passed</div><div class="test-duration">0.468s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Lesson Content Validation</div><div class="test-title">should have mostly unique lesson IDs and slugs</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Lesson Retrieval Functions</div><div class="test-title">should retrieve lesson by slug correctly</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Lesson Retrieval Functions</div><div class="test-title">should return undefined for non-existent slug</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Lesson Retrieval Functions</div><div class="test-title">should retrieve lessons by category correctly</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Learning Service Integration</div><div class="test-title">should handle lesson progress tracking</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Category Distribution Analysis</div><div class="test-title">should have balanced lesson distribution</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Category Distribution Analysis</div><div class="test-title">should have appropriate difficulty distribution</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Content Quality Validation</div><div class="test-title">should have meaningful content in all lessons</div><div class="test-status">passed</div><div class="test-duration">0.157s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Content Quality Validation</div><div class="test-title">should have quiz sections where appropriate</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Learning Path Validation</div><div class="test-title">should have proper ordering within categories</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Learning System Comprehensive Tests &gt; Learning Path Validation</div><div class="test-title">should have progressive difficulty within categories</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div></div></details><details id="suite-13" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/structured-ai.test.ts</div><div class="suite-time warn">22.13s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">/api/ai/structured &gt; POST /api/ai/structured</div><div class="test-title">should handle market analysis request</div><div class="test-status">passed</div><div class="test-duration">5.48s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">/api/ai/structured &gt; POST /api/ai/structured</div><div class="test-title">should handle validation errors</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">/api/ai/structured &gt; GET /api/ai/structured</div><div class="test-title">should return available analysis types</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div></div></details><details id="suite-14" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/notifications-settings.test.ts</div><div class="suite-time">1.462s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Notifications Analytics Settings API</div><div class="test-title">GET returns merged thresholds for authorized roles</div><div class="test-status">passed</div><div class="test-duration">0.773s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Notifications Analytics Settings API</div><div class="test-title">PUT validates and saves thresholds for authorized roles</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Notifications Analytics Settings API</div><div class="test-title">rejects unauthorized</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div></div></details><details id="suite-15" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/notifications-export-presets.test.ts</div><div class="suite-time">1.778s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Notifications Analytics Export Presets API</div><div class="test-title">PUT saves user preset and GET returns it</div><div class="test-status">passed</div><div class="test-duration">0.895s</div></div></div></div></details><details id="suite-16" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/ai/structured-schemas.test.ts</div><div class="suite-time">3.04s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; MarketAnalysisSchema</div><div class="test-title">should validate valid market analysis data</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; MarketAnalysisSchema</div><div class="test-title">should reject invalid sentiment values</div><div class="test-status">passed</div><div class="test-duration">0.07s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; MarketAnalysisSchema</div><div class="test-title">should reject confidence scores outside valid range</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; PortfolioAnalysisSchema</div><div class="test-title">should validate valid portfolio analysis data</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; PortfolioAnalysisSchema</div><div class="test-title">should reject invalid allocation percentages</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; TradingSignalsSchema</div><div class="test-title">should validate valid trading signals data</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; TradingSignalsSchema</div><div class="test-title">should require at least one take profit target</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; AIChatResponseSchema</div><div class="test-title">should validate valid chat response data</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; AIChatResponseSchema</div><div class="test-title">should apply default disclaimer</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; PricePredictionSchema</div><div class="test-title">should validate valid price prediction data</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; PricePredictionSchema</div><div class="test-title">should require positive prices</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; Helper Functions &gt; validateSchema</div><div class="test-title">should validate and return parsed data</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; Helper Functions &gt; validateSchema</div><div class="test-title">should throw on invalid data</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; Helper Functions &gt; safeValidateSchema</div><div class="test-title">should return success result for valid data</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; Helper Functions &gt; safeValidateSchema</div><div class="test-title">should return error result for invalid data</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; ComprehensiveAnalysisSchema</div><div class="test-title">should validate comprehensive analysis with all components</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Structured Schemas &gt; ComprehensiveAnalysisSchema</div><div class="test-title">should apply default disclaimer</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div></div></details><details id="suite-17" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/metrics-export.test.ts</div><div class="suite-time">2.673s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Metrics integration (export)</div><div class="test-title">increments counters and observes duration</div><div class="test-status">passed</div><div class="test-duration">0.887s</div></div></div></div></details><details id="suite-18" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/pii.test.ts</div><div class="suite-time">1.501s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">security/pii</div><div class="test-title">masks emails</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">security/pii</div><div class="test-title">masks phone numbers</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">security/pii</div><div class="test-title">masks tokens</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">security/pii</div><div class="test-title">maskPIIInString applies all strategies</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">security/pii</div><div class="test-title">maskPIIDeep masks nested objects/arrays</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">security/pii</div><div class="test-title">shouldMaskPII defaults to true</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div></div></details><details id="suite-19" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api/dashboard.test.ts</div><div class="suite-time warn">7.863s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Dashboard API Integration Tests &gt; GET /api/dashboard</div><div class="test-title">認証済みユーザーのダッシュボードデータを正常に取得</div><div class="test-status">passed</div><div class="test-duration">2.796s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Dashboard API Integration Tests &gt; GET /api/dashboard</div><div class="test-title">未認証リクエストの場合401エラーを返す</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Dashboard API Integration Tests &gt; GET /api/dashboard</div><div class="test-title">データ取得エラー時に適切なフォールバック値を返す</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Dashboard API Integration Tests &gt; Dashboard Data Consistency</div><div class="test-title">ポートフォリオとアラートデータの整合性チェック</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Dashboard API Integration Tests &gt; Performance Metrics</div><div class="test-title">ダッシュボードAPI応答時間が100ms以内</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Dashboard API Integration Tests &gt; Error Handling</div><div class="test-title">Supabaseサービス停止時のグレースフルデグレード</div><div class="test-status">passed</div><div class="test-duration">0.057s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Dashboard API Integration Tests &gt; Error Handling</div><div class="test-title">部分的なデータ取得失敗時の処理</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div></div></details><details id="suite-20" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/notifications-transformers.test.ts</div><div class="suite-time">0.963s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">notifications/transformers</div><div class="test-title">toUserPreferences returns defaults and merges overrides</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">notifications/transformers</div><div class="test-title">toNotificationProvider maps DB row to runtime provider</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">notifications/transformers</div><div class="test-title">toNotificationQueue maps DB row to runtime queue</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">notifications/transformers</div><div class="test-title">toNotificationRule maps DB row to runtime rule</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div></div></details><details id="suite-21" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/supabase-helpers.test.ts</div><div class="suite-time">1.363s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; getSupaQuery</div><div class="test-title">returns null for non-object or missing methods</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; getSupaQuery</div><div class="test-title">returns MinimalSupaQuery when all required methods exist</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; getSupaQuery</div><div class="test-title">supports required option for custom method checks (e.g., or)</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; safeOrderAndRange</div><div class="test-title">safely returns empty data when query does not support order</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; safeOrderAndRange</div><div class="test-title">calls order and range and returns their result</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; safeOrderAndRange</div><div class="test-title">returns empty on range error</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; isThenable</div><div class="test-title">returns true for promise-like objects</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; isThenable</div><div class="test-title">returns true for native Promise</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; isThenable</div><div class="test-title">returns false for non-thenable values</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; safeOr</div><div class="test-title">applies or when available</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; safeOr</div><div class="test-title">returns original query when or is missing</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; safeAwait</div><div class="test-title">resolves thenable and returns its value</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; safeAwait</div><div class="test-title">returns empty result for non-thenable</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">supabase/helpers &gt; safeAwait</div><div class="test-title">returns empty result on rejection</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div></div></details><details id="suite-22" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/api-fetcher.test.ts</div><div class="suite-time">1.2s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">apiFetch CSRF integration</div><div class="test-title">attaches x-csrf-token header for POST requests</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">apiFetch CSRF integration</div><div class="test-title">retries once on 403 with refreshed token</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div></div></details><details id="suite-23" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/ai/structured-outputs.test.ts</div><div class="suite-time">3.574s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; generateWithSchema</div><div class="test-title">should generate valid structured output</div><div class="test-status">passed</div><div class="test-duration">0.005s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; generateWithSchema</div><div class="test-title">should handle schema validation errors</div><div class="test-status">passed</div><div class="test-duration">0.014s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; generateWithSchema</div><div class="test-title">should handle content filter responses</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; generateWithSchema</div><div class="test-title">should handle refusal responses</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; generateWithSchema</div><div class="test-title">should handle invalid JSON responses</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; generateWithJsonSchema</div><div class="test-title">should generate output with raw JSON schema</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; generateWithRetry</div><div class="test-title">should retry on failure and eventually succeed</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; generateWithRetry</div><div class="test-title">should fail after max retries</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; zodToJsonSchema</div><div class="test-title">should convert basic Zod schema to JSON schema</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; error handling</div><div class="test-title">should create StructuredOutputError with proper code</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; error handling</div><div class="test-title">should handle OpenAI API errors</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; configuration</div><div class="test-title">should use custom configuration</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">StructuredOutputsService &gt; configuration</div><div class="test-title">should use default configuration when not provided</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></details><details id="suite-24" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/notifications-cooldown.test.ts</div><div class="suite-time">3.411s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">CooldownService</div><div class="test-title">should allow send when no active cooldown</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">CooldownService</div><div class="test-title">should deny send when active cooldown exists</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">CooldownService</div><div class="test-title">should upsert cooldown on activate</div><div class="test-status">passed</div><div class="test-duration"> </div></div></div></div></details><details id="suite-25" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/integration/api-endpoints.test.ts</div><div class="suite-time warn">34.28s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Learning API Endpoints</div><div class="test-title">GET /api/learning/lessons - should return lesson list</div><div class="test-status">passed</div><div class="test-duration">3.681s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Learning API Endpoints</div><div class="test-title">GET /api/learning/categories - should return category list</div><div class="test-status">passed</div><div class="test-duration">4.372s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Learning API Endpoints</div><div class="test-title">GET /api/learning/lessons/[slug] - should return specific lesson</div><div class="test-status">passed</div><div class="test-duration">0.474s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Alert API Endpoints</div><div class="test-title">GET /api/alerts - should return user alerts</div><div class="test-status">passed</div><div class="test-duration">0.195s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Alert API Endpoints</div><div class="test-title">POST /api/alerts - should create new alert with validation</div><div class="test-status">passed</div><div class="test-duration">0.058s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Market API Endpoints</div><div class="test-title">GET /api/market/global - should return market data</div><div class="test-status">passed</div><div class="test-duration">0.151s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; AI API Endpoints</div><div class="test-title">POST /api/ai/analyze - should analyze market data</div><div class="test-status">passed</div><div class="test-duration">2.356s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Health and Monitoring Endpoints</div><div class="test-title">GET /api/health - should return service health</div><div class="test-status">passed</div><div class="test-duration">0.093s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Health and Monitoring Endpoints</div><div class="test-title">GET /api/monitoring/performance - should return performance metrics</div><div class="test-status">passed</div><div class="test-duration">9.549s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Security and Validation</div><div class="test-title">should handle CSRF protection</div><div class="test-status">passed</div><div class="test-duration">0.038s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Security and Validation</div><div class="test-title">should validate API rate limiting</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Error Handling</div><div class="test-title">should handle malformed JSON gracefully</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Error Handling</div><div class="test-title">should handle missing required fields</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Performance Requirements</div><div class="test-title">should respond to health check within 100ms</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">API Endpoints Comprehensive Tests &gt; Performance Requirements</div><div class="test-title">should handle concurrent requests efficiently</div><div class="test-status">passed</div><div class="test-duration">0.027s</div></div></div></div></details><details id="suite-26" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/metrics-alerting.test.ts</div><div class="suite-time">2.513s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">alerting metrics (slack)</div><div class="test-title">counts success and duration</div><div class="test-status">passed</div><div class="test-duration">0.007s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">alerting metrics (slack)</div><div class="test-title">counts errors and retries</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">alerting metrics (slack)</div><div class="test-title">discord: success and retry with 429 handling</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">alerting metrics (slack)</div><div class="test-title">enforces message length and counts truncation</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">alerting metrics (slack)</div><div class="test-title">drops by rate limit and cooldown</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">alerting metrics (slack)</div><div class="test-title">drops by quiet hours</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">alerting metrics (slack)</div><div class="test-title">critical bypasses DND</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">alerting metrics (slack)</div><div class="test-title">skips when url empty</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></details><details id="suite-27" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/webhook-signature.test.ts</div><div class="suite-time">2.918s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">notifications/webhook-signature</div><div class="test-title">returns false when signature header missing</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">notifications/webhook-signature</div><div class="test-title">verifies Resend HMAC signature</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">notifications/webhook-signature</div><div class="test-title">verifies SendGrid signature (fallback HMAC path)</div><div class="test-status">passed</div><div class="test-duration">0.26s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">notifications/webhook-signature</div><div class="test-title">SendGrid strict mode: does not fallback when official lib missing</div><div class="test-status">passed</div><div class="test-duration">0.071s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">notifications/webhook-signature</div><div class="test-title">verifies Twilio signature using library</div><div class="test-status">passed</div><div class="test-duration">0.031s</div></div></div></div></details><details id="suite-28" class="suite-container" open=""><summary class="suite-info"><div class="suite-path">/mnt/d/crypto-ai-platform/tests/unit/anomaly.test.ts</div><div class="suite-time">3.351s</div></summary><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">defi/anomaly</div><div class="test-title">detects TVL drop over threshold</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">defi/anomaly</div><div class="test-title">detects APY spike over threshold</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></details></main></body></html>