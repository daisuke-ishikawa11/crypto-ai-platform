import type { Lesson } from '../../../types';

export const tradingBasicsTest6: Lesson = {
  id: 'trading-basics-test-6',
  slug: 'trading-basics-test-6',
  title: '確認テスト6：資金・心理管理（レッスン26-30）',
  description: 'レッスン26-30の内容理解度を確認するテストです。資金管理の実践、トレーディング心理学、バックテスト手法、ペーパートレーディング、アルゴリズムトレーディング基礎に関する知識を測定します。',
  categoryId: 'trading-basics',
  difficultyLevel: 'intermediate',
  estimatedMinutes: 15,
  orderIndex: 106,
  isPublished: true,
  tags: ['確認テスト', '中級', '資金管理', '心理学'],
  
  content: {
    sections: [
      {
        type: 'text',
        content: `
          <h1>確認テスト6：資金・心理管理（レッスン26-30）</h1>
          
          <div style="background: #dbeafe; border-left: 4px solid #2563eb; padding: 1rem; margin: 1.5rem 0; border-radius: 4px;">
            <h3 style="margin: 0 0 0.5rem 0; color: #1e40af;">📋 テスト概要</h3>
            <p style="margin: 0; color: #374151;">このテストは、レッスン26-30で学習した以下の内容に関する理解度を確認します：</p>
            <ul style="margin: 0.5rem 0 0 1.5rem; color: #374151;">
              <li>レッスン26：資金管理の実践とポジションサイジング</li>
              <li>レッスン27：トレーディング心理学と感情制御</li>
              <li>レッスン28：バックテストの手法と戦略検証</li>
              <li>レッスン29：ペーパートレーディングによる実践練習</li>
              <li>レッスン30：アルゴリズムトレーディングの基礎</li>
            </ul>
          </div>

          <div style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 1rem; margin: 1.5rem 0; border-radius: 4px;">
            <h3 style="margin: 0 0 0.5rem 0; color: #d97706;">⏰ 制限時間</h3>
            <p style="margin: 0; color: #374151;">推奨時間：15分</p>
          </div>

          <div style="background: #f0fdf4; border-left: 4px solid #16a34a; padding: 1rem; margin: 1.5rem 0; border-radius: 4px;">
            <h3 style="margin: 0 0 0.5rem 0; color: #16a34a;">🎯 合格基準</h3>
            <p style="margin: 0; color: #374151;">正答率80%以上で合格です（10問中8問以上正解）</p>
          </div>
        `
      }
    ],
    keyPoints: [
      'レッスン26-30の資金・心理管理技術の理解度確認',
      '科学的な資金管理とポジションサイジング手法',
      'トレーディング心理学による感情制御技術',
      'バックテストを活用した戦略の客観的検証方法',
      'ペーパートレーディングによるリスクフリー練習',
      'アルゴリズムトレーディングの基本概念と実装方針'
    ]
  },

  quiz: [
    {
      id: 'trading-basics-test-6-q1',
      question: 'ケリー基準（Kelly Criterion）による最適なポジションサイジングの計算式は？',
      options: [
        'f* = (勝率 - 負率) / 平均利益',
        'f* = (bp - q) / b （b=オッズ、p=勝率、q=負率）',
        'f* = 総資金 / 取引回数',
        'f* = 固定金額 / 現在価格'
      ],
      correctAnswer: 1,
      explanation: 'ケリー基準の公式は f* = (bp - q) / b です。bは勝った時のオッズ（利益率）、pは勝率、qは負率（1-p）を表します。この公式により、長期的に資金を最大化する理論的に最適なポジションサイズを算出できますが、実際の運用では25-50%程度に抑制することが推奨されます。'
    },
    {
      id: 'trading-basics-test-6-q2',
      question: '固定比率法（Fixed Ratio Method）と固定金額法の主な違いは？',
      options: [
        '計算方法は全く同じ',
        '固定比率法は利益に応じてポジションサイズを増減、固定金額法は常に一定',
        '固定比率法は損失時のみ適用',
        '使用する通貨が異なる'
      ],
      correctAnswer: 1,
      explanation: '固定比率法は累積利益に応じてポジションサイズを段階的に増加させる動的な手法で、資金の成長に合わせてレバレッジを効かせます。一方、固定金額法は取引ごとに一定の金額でポジションを持つ静的な手法で、安定性は高いが成長性は限定的です。固定比率法はより積極的な資金管理手法といえます。'
    },
    {
      id: 'trading-basics-test-6-q3',
      question: '「プロスペクト理論」に基づく投資家の典型的な行動バイアスは？',
      options: [
        '利益は早く確定し、損失は放置する',
        '利益も損失も同じタイミングで確定する',
        '常に論理的に判断する',
        '感情は投資に影響しない'
      ],
      correctAnswer: 0,
      explanation: 'プロスペクト理論では、人間は利益領域では「損失回避的（利益を早く確定したがる）」、損失領域では「リスク選好的（損失確定を避けて博打を打つ）」傾向があることが実証されています。これは「利小損大」という失敗パターンの心理的根拠であり、成功するトレーダーはこのバイアスを克服する必要があります。'
    },
    {
      id: 'trading-basics-test-6-q4',
      question: '「確証バイアス」がトレーディングに与える悪影響と対策は？',
      options: [
        '影響はなく対策不要',
        '自分の判断を支持する情報のみ収集、客観的分析ルールで対策',
        '常に正しい判断をする',
        '他人の意見を無視する'
      ],
      correctAnswer: 1,
      explanation: '確証バイアスは、自分の投資判断を支持する情報ばかり集め、反対情報を無視する傾向です。これにより客観的な判断が困難になり、間違った投資を継続するリスクがあります。対策として、事前に決めた客観的な分析ルール、反対意見の積極的な収集、第三者による戦略レビューなどが有効です。'
    },
    {
      id: 'trading-basics-test-6-q5',
      question: '効果的なバックテストを行うために最も重要な注意点は？',
      options: [
        '過去1ヶ月のデータのみ使用',
        '手数料・スプレッド・スリッページを考慮し、十分な期間とデータで検証',
        '利益が出る期間のみ選択',
        '主観的な判断で結果を修正'
      ],
      correctAnswer: 1,
      explanation: '有効なバックテストには、取引コスト（手数料・スプレッド・スリッページ）の現実的な考慮、十分な期間（複数の市場環境）での検証、統計的に意味のある取引回数の確保が不可欠です。また、アウトオブサンプルテストやウォークフォワード分析により、未来データへの過剰適合（カーブフィッティング）を避けることも重要です。'
    },
    {
      id: 'trading-basics-test-6-q6',
      question: 'バックテストで「カーブフィッティング」を避けるための手法は？',
      options: [
        '全期間のデータで最適化',
        'インサンプル（最適化）とアウトオブサンプル（検証）にデータを分割',
        '利益が最大になるまでパラメータ調整',
        'データ期間を短くする'
      ],
      correctAnswer: 1,
      explanation: 'カーブフィッティング（過剰適合）を避けるには、データをインサンプル（戦略開発・最適化用）とアウトオブサンプル（検証用）に分割し、インサンプルで構築した戦略をアウトオブサンプルで検証します。さらにウォークフォワード分析で段階的に検証期間を進めることで、未知のデータに対する戦略の頑健性を確認できます。'
    },
    {
      id: 'trading-basics-test-6-q7',
      question: 'ペーパートレーディングの主な目的と実施上の注意点は？',
      options: [
        '利益を得ることが主目的',
        'リアルマネーなしで戦略検証、心理的プレッシャーの再現が課題',
        '時間の節約が主目的',
        '手数料を節約することが主目的'
      ],
      correctAnswer: 1,
      explanation: 'ペーパートレーディングの主目的は、実際の資金リスクなしで戦略の有効性確認、執行手順の習得、データ収集です。ただし、実際の資金が関わらないため心理的プレッシャーが再現されにくく、実取引との感情的差異が課題となります。そのため、最終的には少額でのリアルトレーディングによる検証が必要です。'
    },
    {
      id: 'trading-basics-test-6-q8',
      question: 'ペーパートレーディングで記録すべき最も重要な項目は？',
      options: [
        '利益額のみ',
        'エントリー・エグジット理由、感情状態、市場環境、実行タイミング',
        '価格データのみ',
        '取引回数のみ'
      ],
      correctAnswer: 1,
      explanation: 'ペーパートレーディングでは、エントリー・エグジットの根拠、その時の感情・心理状態、市場環境、実際の執行タイミングと理想との差などを詳細に記録することが重要です。これらのデータにより、戦略の改善点、心理的課題、執行上の問題点を特定でき、リアルトレーディングへの移行時に活用できます。'
    },
    {
      id: 'trading-basics-test-6-q9',
      question: 'アルゴリズムトレーディングの主要な利点と注意すべきリスクは？',
      options: [
        '利点はなく、リスクのみ存在',
        '感情排除と高速執行が利点、システムリスクと過剰最適化が主なリスク',
        '手動取引と全く同じ',
        '利点のみでリスクは皆無'
      ],
      correctAnswer: 1,
      explanation: 'アルゴリズムトレーディングの主要利点は、感情的判断の排除、24時間監視、高速・正確な執行、複数市場同時監視です。一方で、システム障害リスク、過剰最適化（バックテストに過度に適合）、市場環境変化への対応遅れ、プログラムエラーなどのリスクがあり、適切なリスク管理とモニタリングが必須です。'
    },
    {
      id: 'trading-basics-test-6-q10',
      question: '初心者がアルゴリズムトレーディングを始める際の推奨アプローチは？',
      options: [
        '最初から複雑な戦略を実装',
        'シンプルな戦略から開始し、段階的に複雑化、十分なテストを実施',
        '他人の戦略をそのまま使用',
        'バックテストを行わずに運用開始'
      ],
      correctAnswer: 1,
      explanation: 'アルゴリズムトレーディング初心者は、移動平均クロスなどのシンプルな戦略から開始し、十分なバックテスト、ペーパートレーディング、少額実運用を経て段階的に複雑化することが推奨されます。また、プログラミング知識の習得、リスク管理機能の実装、定期的な戦略見直しなど、基礎を固めることが長期的成功の鍵となります。'
    }
  ],
  lastUpdated: '2025-08-18',
  factChecked: true
};