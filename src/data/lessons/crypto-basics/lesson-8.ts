import { Lesson } from '@/lib/types/learning'

export const lesson8: Lesson = {
  id: 'crypto-basics-mining-staking',
  categoryId: 'crypto-basics',
  title: 'マイニングとステーキング',
  slug: 'mining-and-staking',
  description: 'ビットコインのマイニングとイーサリアムのステーキングの仕組み、報酬の獲得方法を学びます',
  difficultyLevel: 'intermediate',
  estimatedMinutes: 30,
  orderIndex: 8,
  content: {
    sections: [
      {
        type: 'text',
        title: 'ブロックチェーンの維持と報酬',
        content: `ブロックチェーンネットワークは、参加者が計算資源や資金を提供することで維持されています。その対価として、新規発行される暗号通貨や取引手数料を報酬として受け取ることができます。

**なぜ報酬が必要か**
- ネットワークのセキュリティ維持
- ブロック生成の継続
- 取引の検証・承認
- 分散性の確保
- 参加者への経済的インセンティブ

**主要な報酬獲得方法**
1. **マイニング（Proof of Work）**: 計算力で競争
2. **ステーキング（Proof of Stake）**: 保有量で権限獲得
3. **マスターノード**: 特定条件を満たした運営
4. **バリデーター**: ネットワーク検証作業
5. **流動性提供**: DeFiプロトコルでの収益`
      },
      {
        type: 'text',
        title: 'マイニング（Proof of Work）',
        content: `**マイニングとは**
コンピュータの計算力を使って、数学的な問題を解き、新しいブロックを生成する作業です。最初に正解を見つけた人が報酬を獲得します。

**ビットコインマイニングの仕組み**
1. **トランザクション収集**: 未確認取引をブロックに組み込み
2. **ナンス探索**: ハッシュ値が条件を満たすナンス値を探索
3. **競争**: 世界中のマイナー同士で計算競争
4. **勝者決定**: 最初に正解を見つけたマイナーが報酬獲得
5. **ブロック確定**: 新ブロックがチェーンに追加

**マイニング報酬の構成**
- **ブロック報酬**: 新規発行されるBTC（現在6.25 BTC）
- **取引手数料**: ブロック内の全取引の手数料合計
- **半減期**: 約4年ごとにブロック報酬が半分に減少

**必要な機材・設備**
1. **ASIC（専用マイニング機器）**
   - Bitcoin専用の高効率マシン
   - 価格：50万円〜500万円
   - 消費電力：3,000W〜7,000W

2. **GPU（グラフィックカード）**
   - 一部のアルトコインで使用
   - より柔軟性が高い
   - ゲーム用途との兼用可能

3. **インフラ**
   - 安定した電力供給
   - 冷却設備
   - 高速インターネット接続
   - 騒音対策

**収益性の要素**
- **ハッシュレート**: 計算力の大きさ
- **電気代**: 最も重要なコスト要因
- **機器効率**: 電力あたりの計算力
- **ネットワーク難易度**: 調整される計算難易度
- **ビットコイン価格**: 市場価格の変動`
      },
      {
        type: 'text',
        title: 'ステーキング（Proof of Stake）',
        content: `**ステーキングとは**
暗号通貨を保有・ロックすることで、ネットワークの検証作業に参加し、報酬を獲得する仕組みです。

**イーサリアムステーキングの仕組み**
1. **バリデーター登録**: 32 ETH以上を預託
2. **ブロック提案**: 選ばれたバリデーターが新ブロック作成
3. **投票・検証**: 他のバリデーターがブロックを検証
4. **報酬分配**: 正しい行動に対して報酬付与
5. **ペナルティ**: 不正行為にはスラッシング（没収）

**ステーキングの種類**

**1. ソロステーキング**
- 自分で32 ETHを運用
- 年利：約4-6%
- 技術的知識が必要
- 最大限の報酬とコントロール

**2. プールステーキング**
- 複数人で資金をプール
- 1 ETH未満でも参加可能
- プール運営者が手数料徴収
- 技術的負担が軽い

**3. 取引所ステーキング**
- 取引所に預けるだけ
- 最も簡単
- 取引所リスクあり
- 利回りは若干低め

**4. リキッドステーキング**
- ステーキング中でも流動性確保
- 代替トークン（stETH等）を受取り
- DeFiでの運用継続可能
- 複雑性とリスクが高い

**主要ステーキング通貨**
- **ETH**: 年利4-6%、最低32 ETH
- **ADA**: 年利4-5%、最低1 ADA
- **SOL**: 年利6-8%、最低1 SOL
- **DOT**: 年利10-12%、最低120 DOT
- **ATOM**: 年利8-10%、最低1 ATOM`
      },
      {
        type: 'text',
        title: 'マイニングvs.ステーキング比較',
        content: `**比較表**

| 項目 | マイニング（PoW） | ステーキング（PoS） |
|------|------------------|-------------------|
| **初期投資** | 高額（機材費） | 中程度（通貨購入） |
| **運用コスト** | 高い（電気代） | 低い |
| **技術的難易度** | 高い | 中程度 |
| **環境負荷** | 大きい | 小さい |
| **流動性** | なし | あり（一部制限） |
| **利回り** | 変動大 | 比較的安定 |
| **参入障壁** | 高い | 低い |

**エネルギー効率性**
- **PoW**: 大量の電力消費、環境問題
- **PoS**: 99%以上の電力削減可能
- **持続可能性**: PoSが圧倒的に有利

**セキュリティ**
- **PoW**: 計算力による物理的セキュリティ
- **PoS**: 経済的インセンティブによるセキュリティ
- **51%攻撃**: 両方とも高コストで困難

**分散性**
- **PoW**: 大規模マイニングプールの集中化
- **PoS**: より多くの個人参加が可能
- **参入障壁**: PoSの方が低い`
      },
      {
        type: 'text',
        title: '実践的なステーキング方法',
        content: `**1. 取引所でのステーキング**
最も簡単な方法

*手順：*
1. 対応取引所で口座開設（Coinbase、Kraken等）
2. ステーキング対象通貨を購入
3. ステーキング機能を有効化
4. 自動的に報酬が付与

*メリット：*
- 技術的知識不要
- 少額から開始可能
- 管理が簡単

*デメリット：*
- 取引所リスク
- 利回りが若干低い
- コントロール権限なし

**2. 公式ウォレットでのステーキング**
より高い報酬と制御

*手順：*
1. 公式ウォレットダウンロード
2. ステーキング用暗号通貨を送金
3. バリデーター選択・委任
4. 定期的な報酬受取り

*必要な準備：*
- 対象通貨の保有
- ウォレット設定
- バリデーター調査
- ロック期間の理解

**3. DeFiプロトコル利用**
高度な戦略

*例：*
- Lido Finance（ETH）
- Rocket Pool（ETH）
- Marinade（SOL）

*特徴：*
- 流動性維持
- 追加収益機会
- 複雑性とリスク増加

**リスク管理**
1. **分散化**: 複数バリデーターに分散
2. **調査**: バリデーターの実績確認
3. **適量投資**: 余剰資金での運用
4. **定期モニタリング**: 報酬・ペナルティ確認`
      },
      {
        type: 'warning',
        title: '⚠️ リスクと注意事項',
        content: `**マイニングのリスク**
- **機材の陳腐化**: 技術進歩により機材が無価値化
- **電気代の変動**: エネルギーコスト上昇
- **騒音・熱**: 近隣トラブルの可能性
- **規制リスク**: 政府による禁止・制限
- **価格変動**: 暗号通貨価格の下落

**ステーキングのリスク**
- **スラッシング**: 不正行為によるペナルティ
- **ロックアップ**: 一定期間の引き出し不可
- **バリデーターリスク**: 選択したバリデーターの失敗
- **技術リスク**: スマートコントラクトの脆弱性
- **市場リスク**: ステーキング通貨の価格下落

**税務上の注意**
- 報酬は雑所得として課税対象
- 取得時の市場価格で評価
- 適切な記録保持が必要
- 確定申告の義務

**詐欺の回避**
- 非現実的な高利回りの約束
- 運営者が不明なサービス
- ポンジスキーム的な構造
- 規制当局の警告があるサービス`
      },
      {
        type: 'quiz',
        title: '理解度チェック',
        questions: [
          {
            id: 'mining-staking-1',
            questionType: 'multiple_choice',
            question: 'ビットコインのコンセンサスアルゴリズムは？',
            options: [
              'Proof of Stake（PoS）',
              'Proof of Work（PoW）',
              'Delegated Proof of Stake（DPoS）',
              'Proof of Authority（PoA）'
            ],
            correctAnswer: '1',
            explanation: 'ビットコインはProof of Work（PoW）を採用しており、マイニングによってブロックが生成されます。'
          },
          {
            id: 'mining-staking-2',
            questionType: 'multiple_choice',
            question: 'イーサリアムでソロステーキングに必要な最低ETH数は？',
            options: [
              '1 ETH',
              '16 ETH',
              '32 ETH',
              '64 ETH'
            ],
            correctAnswer: '2',
            explanation: 'イーサリアムでバリデーターになるには最低32 ETHが必要です。これ以下の場合はプールステーキングを利用します。'
          },
          {
            id: 'mining-staking-3',
            questionType: 'multiple_choice',
            question: 'ステーキングの主なリスクは？',
            options: [
              '電気代の高騰',
              'スラッシング（ペナルティ）とロックアップ',
              '機材の故障',
              'ハッシュレートの低下'
            ],
            correctAnswer: '1',
            explanation: 'ステーキングの主なリスクはスラッシング（ペナルティ）とロックアップ（資金の固定）です。電気代や機材はマイニングのリスクです。'
          },
          {
            id: 'mining-staking-4',
            questionType: 'multiple_choice',
            question: 'マイニングとステーキングの最も大きな違いは？',
            options: [
              '報酬の大きさ',
              '参加の難易度',
              'エネルギー消費量',
              '投資期間'
            ],
            correctAnswer: '2',
            explanation: 'マイニングは大量の電力を消費しますが、ステーキングは99%以上のエネルギー削減が可能です。'
          },
          {
            id: 'mining-staking-5',
            questionType: 'multiple_choice',
            question: '初心者が最も手軽にステーキングを始める方法は？',
            options: [
              'ASIC機器を購入してマイニング',
              'バリデーターノードの運営',
              '取引所でのステーキングサービス利用',
              'DeFiプロトコルでの流動性提供'
            ],
            correctAnswer: '2',
            explanation: '初心者には取引所でのステーキングサービスが最も手軽で、技術的知識や大きな投資額を必要としません。'
          }
        ]
      }
    ]
  },
  isPublished: true,
  createdAt: new Date('2024-01-01T00:00:00Z'),
  updatedAt: new Date('2024-01-01T00:00:00Z')
} 