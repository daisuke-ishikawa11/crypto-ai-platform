import type { Lesson } from '../../../lib/types/learning';

export const lesson7: Lesson = {
  id: 'crypto-basics-7',
  categoryId: 'crypto-basics',
  title: 'Hot vs Cold Storage - セキュリティ重要性',
  slug: 'hot-vs-cold-storage',
  description: 'ホットストレージとコールドストレージの違い、それぞれの利点と欠点、適切な使い分けを学びます。',
  difficultyLevel: 'beginner',
  estimatedMinutes: 18,
  orderIndex: 7,
  content: {
    sections: [
      {
        type: 'text',
        title: 'ホットストレージとコールドストレージの定義',
        content: `
          **ホットストレージ(Hot Storage)**
          
          インターネットに接続されている状態で暗号通貨を保管する方法です。
          
          **主な特徴：**
          - インターネット常時接続
          - 即座のアクセス·取引が可能
          - 高い利便性
          - オンライン攻撃のリスク有り
          
          **コールドストレージ(Cold Storage)**
          
          インターネットから完全に切り離された環境で暗号通貨を保管する方法です。
          
          **主な特徴：**
          - インターネット接続なし
          - オフライン環境での保管
          - 最高レベルのセキュリティ
          - アクセスに時間と手間が必要
          
          **基本原則：**
          
          ホットストレージ = 財布(日常使い)
          コールドストレージ = 金庫(長期保管)
        `
      },
      {
        type: 'text',
        title: 'ホットストレージの種類と特徴',
        content: `
          **1. ウェブウォレット**
          - MyEtherWallet, MyCrypto
          - メリット: どこからでもアクセス、簡単セットアップ
          - デメリット: フィッシング攻撃、サーバーダウンリスク
          
          **2. デスクトップウォレット**
          - Electrum, Exodus, Atomic Wallet
          - メリット: フル機能、プライベート鍵をローカル保存
          - デメリット: マルウェア、コンピュータクラッシュリスク
          
          **3. モバイルウォレット**
          - Trust Wallet, Coinbase Wallet, MetaMask Mobile
          - メリット: 携帯性、QRコードスキャン、外出先利用
          - デメリット: スマホ紛失·盗難、アプリの脆弱性
          
          **4. 取引所ウォレット**
          - Coinbase, Binance, Kraken
          - メリット: 取引との統合、ユーザビリティ
          - デメリット: カウンターパーティリスク、ハッキング標的
          
          **ホットストレージのリスク：**
          - ハッキング·マルウェア感染
          - フィッシング詐欺
          - 内部不正·システム障害
          - 規制による凍結リスク
        `
      },
      {
        type: 'text',
        title: 'コールドストレージの種類と実装',
        content: `
          **1. ハードウェアウォレット**
          - Ledger Nano S/X, Trezor One/Model T
          - メリット: 使いやすさとセキュリティの両立
          - 最も推奨される方法
          
          **技術的仕組み：**
          - 秘密鍵が専用チップ内で生成·保存
          - 取引署名もデバイス内で実行
          - PINコード·パスフレーズで保護
          - 物理的ボタンでの取引確認
          
          **2. ペーパーウォレット**
          - 秘密鍵·公開鍵を紙に印刷
          - 完全なオフライン保管
          - 実装手順:
            1. オフライン環境でキー生成
            2. 印刷(レーザープリンター推奨)
            3. 複数コピーを異なる場所で保管
            4. 生成に使ったPC·プリンターの完全初期化
          
          **3. エアギャップコンピュータ**
          - ネットワーク接続を物理的に切断
          - 専用オフラインPC使用
          - 企業·大口投資家向け
          
          **4. マルチシグコールドストレージ**
          - 複数の署名が必要な設定
          - 2-of-3, 3-of-5等の構成
          - 単一点障害を防止
        `
      },
      {
        type: 'text',
        title: 'セキュリティ戦略の構築',
        content: `
          **階層化セキュリティアプローチ**
          
          **Tier 1: 日常使い(5-10%)**
          - モバイル·デスクトップウォレット
          - 数千円～数万円程度
          - 即座のアクセスが必要な資金
          
          **Tier 2: 中期保管(20-30%)**
          - ハードウェアウォレット
          - 定期的にアクセスする資金
          - 数十万円～数百万円程度
          
          **Tier 3: 長期保管(60-70%)**
          - マルチシグコールドストレージ
          - 年単位で動かさない資金
          - 大部分の資産
          
          **ベストプラクティス:**
          
          **1. 分散保管**
          - 単一のウォレットに全資産を保管しない
          - 地理的分散(複数の場所)
          - 技術的分散(異なるタイプのウォレット)
          
          **2. 定期的な見直し**
          - セキュリティ設定の確認(月次)
          - バックアップの健全性テスト(四半期)
          - 資産配分の再調整(半年)
          
          **3. 継承計画**
          - 家族·相続人への説明
          - 緊急アクセス手順の文書化
          - 法的な遺言書への記載
        `
      }
    ],
    keyPoints: [
      'ホットストレージは利便性重視、コールドストレージはセキュリティ重視',
      '全資産をホットストレージで保管するのは危険',
      'ハードウェアウォレットは最も実用的なコールドストレージ',
      '資産額に応じて3層の保管戦略を構築',
      'バックアップと復旧テストを定期実行',
      '継承計画の策定が長期投資には必須'
    ],
    summary: 'ホットストレージとコールドストレージは利便性とセキュリティのトレードオフがあります。日常使いの小額はホット、大部分の資産はコールドで保管する階層化戦略により、セキュリティと利便性を両立できます。',
    practicalExamples: [
      '推奨配分: 日常使い10% (Hot) + 定期利用30% (Hardware) + 長期保管60% (Multi-sig Cold)',
      'ハードウェアウォレット価格: Ledger Nano S Plus ¥10,000, Trezor Model T ¥25,000',
      'セキュリティ事故例: 2022年Ronin Bridge ハック $650M、全てホットウォレット',
      '企業事例: MicroStrategy社は大部分をマルチシグコールドストレージで保管'
    ],
    warningNotes: [
      'ハードウェアウォレットも完璧ではない(物理的紛失·故障リスク)',
      'ペーパーウォレット作成時の環境汚染(キーロガー等)に注意',
      'コールドストレージから頻繁に出し入れするとセキュリティ意味が薄れる',
      '偽のハードウェアウォレットが出回っている',
      'バックアップなしでのコールドストレージ利用は危険',
      '中古のハードウェアウォレットは絶対に使用しない'
    ]
  },
  quiz: [
    {
      id: 'crypto-basics-7-q1',
      question: 'コールドストレージの最大の利点は？',
      options: [
        '取引が速い',
        '使いやすい',
        'オンライン攻撃から完全に保護',
        'コストが安い'
      ],
      correctAnswer: 2,
      explanation: 'コールドストレージはインターネットから切り離されているため、ハッキングやオンライン攻撃から完全に保護されます。'
    },
    {
      id: 'crypto-basics-7-q2',
      question: '資産の保管戦略で推奨される配分は？',
      options: [
        '100%ホットストレージ',
        '100%コールドストレージ',
        '大部分をコールド、少額をホット',
        '50%ずつ均等配分'
      ],
      correctAnswer: 2,
      explanation: '大部分の資産はコールドストレージで安全に保管し、日常使いの少額のみホットストレージで利便性を確保するのが推奨されます。'
    },
    {
      id: 'crypto-basics-7-q3',
      question: 'ハードウェアウォレットが安全な理由は？',
      options: [
        'インターネットに常時接続している',
        '秘密鍵がデバイス内で生成·保存される',
        '政府が保護している',
        '銀行が管理している'
      ],
      correctAnswer: 1,
      explanation: 'ハードウェアウォレットは秘密鍵をデバイス内で生成·保存し、取引署名もデバイス内で行うため、秘密鍵が外部に流出しません。'
    },
    {
      id: 'crypto-basics-7-q4',
      question: 'ペーパーウォレット作成時に最も重要な注意点は？',
      options: [
        'カラーで印刷する',
        'オフライン環境で作成する',
        '高価な紙を使う',
        '複雑なデザインにする'
      ],
      correctAnswer: 1,
      explanation: 'ペーパーウォレットはオフライン環境で作成し、使用したPCやプリンターを完全初期化することで、秘密鍵の漏洩を防ぎます。'
    }
  ],
  lastUpdated: '2024-12-09',
  factChecked: true
};